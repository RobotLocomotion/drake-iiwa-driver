# Require all rules to be loaded in MODULE.bazel -- don't allow any legacy
# implicit loads built-in to Bazel itself to take effect.
common --incompatible_autoload_externally=

# Default to an optimized build.
build --compilation_mode=opt

# Default build options.
build --force_pic=yes
build --strip=never

# Default test options.
build --test_output=errors
build --test_summary=terse

# Use C++20.
build --cxxopt=-std=c++20
build --host_cxxopt=-std=c++20

# https://github.com/bazelbuild/bazel/issues/1164
build --action_env=CCACHE_DISABLE=1

# TODO(jwnimmer-tri) We should see if we can reuse more of Drake's
# customizations somehow.

# Lint
test:lint --build_tests_only
test:lint --test_tag_filters=lint
